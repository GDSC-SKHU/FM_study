<4장. 역할, 책임, 협력
---
인간은 상황 문맥에 따라 행동 방식 결정. 여기서는 타인과의 협력. 객체도 마찬가지. 협력이라는 문맥 발동.

어떤 협력인지에 따라 객체에 필요한 행동 결정, 상태 결정

협력은 요청과 응답 네트워크. 요청할 때 시작되는 협력. 

- **협력**
    
    앨리스 이야기에서는 하트 잭을 재판하기 위해 여러 객체들이 협력 중. 동일한 목적.
    
    특정 객체가 그 특정한 요청을 받을 수 있는 이유는 적절한 방식으로 응답하는 데 필요한 지식과 행동 방식을 가지고 있기 때문.
    
- **책임**
    
    어떤 객체가 어떤 요청에 대해 대답해 줄 수 있거나, 적절한 행동을 할 의무가 있는 경우 해당 객체가 책임을 가짐.
    
    ex. 재판을 수행하라 → 재판을 수행할 책임을 지님.
    
    책임은 중요함.
    
    **책임은 ‘객체가 무엇을 알고 있는가(knowing), ‘무엇을 할 수 있는가(doing)’로 구성된다.**
    
    ⇒ 책임이 불분명한 객체들은 애플리케이션의 미래 역시 불분명하게 만듦. = 명확한 책임이 애플리케이션의 미래를 결정
    
    책임은 객체의 공용 인터페이스를 구성하여 캡슐화까지 이어짐.
    
    객체가 주어진 책임을 수행하도록 다른 객체에게 요청을 보내는 것은 메세지 전송. = 협력은 메세지를 통해.
    
    1장에서 말하던 것. 메시지로 다른 객체에게 접근할 수 있음
    
    **객체 지향 설계는 어떤 객체가 어떤 책임을 수행해야 하는 지. 어떤 객체로부터 메시지를 수신할 것인지 결정하는 것으로부터 시작. 보통 어떤 클래스가 필요하고 어떤 메서드를 포함해야 하는 지 결정하는데 이것보다도 책임과 메시지에 대한 윤곽을 잡은 후에 시작해도 늦지 않는다. 보통 객체를 생성할 때 잘못 생각하고 있었다는 것을 알았음.**
    
- **역할**
    
    **굳이 모자장수 = 증인 왕 = 판사 라고 불러서 복잡하게 하는 이유는 재사용 가능하고 유연한 객체지향 설계를 위한 중요한 구성 요소!!**
    
    **여러 증인들이 하는 게 똑같음. 역할을 사용하여 포괄할 수 있는 협력으로 바꾸는 것(증인이 할 수 있는)**
    
    물론 역할을 대체할 수 있는 객체는 동일한 메시지를 이해할 수 있는 객체로 한정 = **동일한 책임의 집합을 수행할 수 있음**
    
    **⇒ 인지 과부하를 줄이고 유연해지고 재사용성이 올라감**
    
    협력 또한 역할로 추상화 하면서 단순화. ‘왕-하얀 토끼-모자 장수’의 협력을 ‘판사-하얀 토끼-증인’으로
    
- **객체의 모양을 결정하는 협력**
    
    객체가 존재하는 이유는 행위를 수행하며 협력에 참여하기 위해서. 객체의 행동, 책임이 중요
    
    클래스는 단지 객체를 표현!! 구현 메커니즘일 뿐!!!!
    
    객체는 섬이 아님.
    
    **협력과 책임의 집합이 결정 된 후에 클래스와 데이터 등장.**
    
- **객체지향 설계 기법**
    - 책임-주도 설계
        
        책임을 식별하고 적합한 객체에게 할당
        
        객체의 책임과 상호작용에 집중.
        
    - 디자인 패턴
        
        설계 탬플릿 모음따라서
        
        패턴이 있으면 유사한 상황에서 반복적으로 적용
        
        템플릿을 잘 알고 잇으면 책임-주도 설계를 따르지 않아도 빠르게 포착할 수 있음, 책임-주도 설계의 지름길
        
    - 테스트-주도 개발
        
        테스트를 간단하게 먼저 작성하고 통과하는 구체적인 코드 추가
        
        다양한 설계 경험과 패턴이 없는 초보에게는 좋은 코드 짜기 어려움.