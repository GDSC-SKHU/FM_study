# 2. 이상한 나라의 객체

## 객체, 그리고 이상한 나라

- 앨리스 객체

* 앨리스는 상태를 가지며 상태는 변경 가능
* 앨리스의 상태를 변경시키는 것은 앨리스의 행동
  - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술 가능
  - 행동의 순서가 결과에 영향
* 앨리스는 어떤 상태에 있더라도 유일하게 식별 가능

## 객체, 그리고 소프트웨어 나라

? 왜 상태가 필요한가

- 어떤 행동의 결과는 과거에 어떤 행동들이 일어났었느냐에 의존
- 상태는 근본적으로 세상의 복잡성을 완화하고 인지 과부하 감소

_상태와 프로퍼티_

- 단순한 값은 객체가 아니지만 상태 표현의 중요 수단
- 일반적으로 프로퍼티는 고정되기 때문에 정적
- 프로퍼티 값은 시간변화에 따라 변경되기 때문에 동적

* 객체의 상태 정리
  > 상태는 특정 시점에 가지고 있는 정보의 집합으로 객체의 구조적 특징 표현. 객체의 상태는 객체에 존재하는 정적인 프로퍼티와 동적인 프로퍼티 값으로 구성. 객체의 프로퍼티는 단순한 값과 다른 객체를 참조하는 링크로 구분 가능

_상태와 행동_

> 객체가 취하는 행동은 자신의 상태 변경 -> 부수 효과 초래

- 객체의 행동은 상태에 영향을 받는다 = 상태 변경

=> 다음 두 가지 관점에서 서술 가능

- 상호작용이 현재 상태에 어떤 방식으로 의존하는가
- 상호작용이 어떻게 현재의 상태를 변경시키는가

_협력과 행동_

- 객체의 행동은 객체가 협력에 참여할 수 있는 유일한 방법
- 객체는 협력 참여 과정에서 자신의 상태뿐아니라 다른 객체의 상태 변경 유발 가능

"행동이란 외부의 요청 또는 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동이다. 행동의 결과로 객체는 자신의 상태를 변경하거나 다른 객체에게 메시지를 전달할 수 있다. 객체는 행동을 통해 다른 객체와의 협력에 참여하므로 행동은 외부에 가시적이어야 한다."

_상태 캡슐화_

- 객체는 상태를 캡슐 안에 감춰둔 채 외부로 노출하지 X(only 행동)
- 객체의 상태 변경 여부는 객체 자의로 결정
- 상태를 외부에 노출시키지 않고 행동을 경계로 캡슐화 -> 결과적으로 객체의 자율성 향상

> 캡슐화의 이유: 객체의 자율성 향상 + 협력의 단순화 및 유연화

### 식별자

- 식별자: 객체를 구별 가능한 특정 프로퍼티가 객체 내 존재
- 모든 객체는 식별자를 지님
- 값: 식별자 X, 상태 변경 X / 객체: 식별자 O, 상태 변경 O

* 동등성: 상태로 두 값 비교하는 성질
* 동일성: 식별자를 기반으로 객체가 같은지 판단하는 성질

**객체의 특성**

- 객체는 상태를 가지며 상태는 변경 가능
- 객체의 상태를 변경시키는 것은 객체의 행동
  - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술 가능
  - 행동의 순서가 실행 결과에 영향 미침
- 객체는 어떤 상태에 있더라도 유일하게 식별 가능

## 기계로서의 객체

- 쿼리: 객체의 상태 조회
- 명령: 객체의 상태 변경

* 객체에 접근하는 유일한 방법
* 객체 접근 방법: 객체 제공 행동
* 객체 기계가 제공하는 버튼을 통해서만 상태 접근 가능 -> 객체의 캡슐화 강조 / 객체 정의 효과적 표현
* 기계 은유로 객체의 식별자 효과적 설명 가능 -> 상태와 무관하게 구분 가능한 식별자를 가짐

## 행동이 상태를 결정한다

> 상태 > 행동 의 단점

1. 상태 먼저 결정 시 캡슐화 저해
2. 객체를 협력자가 아닌 고립된 섬으로 만듦
3. 객체의 재사용성 저하

"행동이 상태를 결정한다."

=> 행동 > 상태가 되는 것이 중요!

## 은유와 객체

객체지향 = "현실세계의 모방"

- 추상화: 실제의 사물에서 자신이 원하는 특성만 취하는 것

### 의인화

객체지향 세계는 실세계의 단순한 모방 X

- 소프트웨어 객체 : 현실 객체 특징 + 추가 능력 보유
- 의인화: 현실의 객체보다 더 많은 일을 할 수 있는 소프트웨어 객체의 특징

### 은유

- 은유: 실제로는 적용되지 않는 한 가지 개념을 이용해 다른 개념을 서술하는 대화의 한 형태
- 은유의 본질 = 한 종류의 사물을 다른 종류의 사물 관점에서 이해하고 경험하는 데 있다.
  - 표현적 차이 vs 의미적 차이
  - 실 객체의 이름을 소프트웨어 객체 이름으로 사용 시 표현적 차이 감소
    => 모든 객체지향 지침서에서는 현실 세계인 도메인에서 사용되는 이름을 객체에게 부여하라고 가이드

결론. 객체지향 설계자로서 우리의 목적은 현실 모방이 X, 이상한 나라를 창조하기만 하면 됨.

> > 여러분이 창조한 객체의 특성을 상기시킬 수 있다면 현실 속의 객체이름을 이용해 묘사하라.
